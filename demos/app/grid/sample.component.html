<div class="sample-wrapper">
    <page-header title="Grid" description="Displays data formatted as a table and provides a line of advanced features such as sorting and filtering, editing, column
        and row freezing, cell merging, paging, column moving and hiding."></page-header>
    <section class="sample-content">
        <article class="grid-sample">
            <h4 class="sample-title">Grid with autogenerated columns and local data</h4>
            <div class="cards-container">
                <igx-card>
                    <igx-card-header>
                        <h3 class="igx-card-header__title">Add new row</h3>
                        <h5 class="igx-card-header__subtitle">The row is added through the grid API</h5>
                    </igx-card-header>
                    <igx-card-content>
                        <div class="igx-form-group">
                            <igx-input-group>
                                    <input igxInput (keyup.enter)="addRow()" [(ngModel)]="newRecord">
                                    <label igxLabel>New value</label>
                            </igx-input-group>
                        </div>
                    </igx-card-content>
                    <igx-card-actions>
                        <div class="igx-card-actions__bgroup">
                            <button igxButton igxRipple (click)="addRow()">Add</button>
                        </div>
                    </igx-card-actions>
                </igx-card>

                <igx-card>
                    <igx-card-header>
                        <h3 class="igx-card-header__title">Edit selected cell</h3>
                        <h5 class="igx-card-header__subtitle">Bound through ngModel</h5>
                    </igx-card-header>
                    <igx-card-content>
                        <div class="igx-form-group">
                            <igx-input-group>
                                <input igxInput [disabled]="selectedCell?.columnField === 'ID'" [ngModel]="selectedCell?.dataItem" (ngModelChange)="updateRecord($event)">
                                <label igxLabel>Edit value</label>
                            </igx-input-group>
                        </div>
                    </igx-card-content>
                </igx-card>

                <igx-card>
                    <igx-card-header>
                        <h3 class="igx-card-header__title">Delete selected row</h3>
                        <h5 class="igx-card-header__subtitle">Revertable for the last deleted row</h5>
                    </igx-card-header>
                    <igx-card-actions>
                        <div class="igx-card-actions__bgroup">
                            <button igxButton igxRipple (click)="deleteRow($event)">Delete Row</button>
                        </div>
                    </igx-card-actions>
                </igx-card>

                <igx-card>
                    <igx-column-hiding [columns]="grid1.columnList" [togglable]="false"></igx-column-hiding>
                </igx-card>
            </div>

            <div class="toggles-container">
                <div class="toggle-group" *ngFor="let col of grid1.columns">
                    <h4>{{ col.field }}</h4>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.filtering">Filtering</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.sortable">Sorting</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.editable">Editable</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.hidden">Hidden</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.movable">Movable</igx-switch>
                    </div>
                </div>
            </div>

            <igx-grid #grid1 [data]="localData" [height]="'305px'" [autoGenerate]="true" (onColumnInit)="initColumns($event)" (onSelection)="selectCell($event)">
            </igx-grid>

        </article>

        <article class="grid-sample">
            <h4 class="sample-title">Grid with templated column cells and local observable data source</h4>
            <div class="toggles-container">
                <div class="toggle-group" *ngFor="let col of grid2.columns">
                    <h4>{{ col.field }}</h4>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.filtering">Filtering</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.sortable">Sorting</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.editable">Editable</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.hidden">Hidden</igx-switch>
                    </div>
                    <div class="switch-group">
                        <igx-switch [(ngModel)]="col.movable">Movable</igx-switch>
                    </div>
                </div>
            </div>

            <div class="paging-config">
                <div class="switch-group">
                    <igx-switch [checked]="grid2.paging" (change)="grid2.paging = $event.target.checked">Enable Paging</igx-switch>
                </div>
                <div class="igx-form-group">
                    <igx-input-group>
                    <input min="1" type="number" igxInput [ngModel]="grid2.perPage" (ngModelChange)="onPerPage($event)">
                    <label igxLabel>Records shown</label>
                    </igx-input-group>
                </div>
                <div class="igx-form-group">
                    <igx-input-group>
                    <input min="0" type="number" igxInput [ngModel]="grid2.state?.paging?.index" (ngModelChange)="onPagination($event)">
                    <label igxLabel>Go to page</label>
                    </igx-input-group>
                </div>
            </div>
            <igx-grid #grid2 [data]="data | async" [paging]="true" [perPage]="10" (onCellSelection)="onInlineEdit($event)">
                <igx-column [sortable]="true" [field]="'ProductID'" [header]="'ID'"></igx-column>
                <igx-column [sortable]="true" [field]="'ProductName'"></igx-column>
                <igx-column [sortable]="true" [field]="'UnitsInStock'" [header]="'In Stock'">
                    <!--
                    <ng-template igxCell let-col="column" let-ri="rowIndex" let-item="item">
                        <span *ngIf="!showInput(ri, col.field)">{{ item }}</span>
                        <igx-input-group *ngIf="showInput(ri, col.field)">
                            <input igxInput [value]="item" (blur)="editCell = null" (change)="grid2.updateCell(ri, col.field, $event.target.value); editCell = null">
                        </igx-input-group>
                    </ng-template>
                -->
                </igx-column>
                <igx-column [field]="'Discontinued'">
                    <ng-template igxHeader let-column="column">
                        <p style="color: crimson"></p>
                    </ng-template>
                    <ng-template igxCell let-item="item" let-ri="rowIndex" let-column="column">
                        <igx-checkbox [checked]="item" (change)="grid2.updateCell(ri, $event.target.checked)"></igx-checkbox>
                    </ng-template>
                </igx-column>
            </igx-grid>

        </article>

        <article class="grid-sample">
            <h4 class="sample-title">Grid with templated cell remote data</h4>
            <div class="button-sample">
                <label>Choose export format</label>
                <select [(ngModel)]="exportFormat">
                    <option value="XLSX">XLSX</option>
                    <option value="CSV">CSV</option>
                    <option value="TSV">TSV</option>
                    <option value="TAB">TAB</option>
                </select>
                <button igxButton="flat" (click)="exportData()" igxButtonColor="#FBB13C" igxButtonBackground="#340068" igxRipple="#FBB13C">Export Data</button>
                <button igxButton="flat" (click)="exportRaw()" igxButtonColor="#FBB13C" igxButtonBackground="#340068" igxRipple="#FBB13C">Export Raw Grid Data</button>
                <button igxButton="flat" (click)="export()" igxButtonColor="#FBB13C" igxButtonBackground="#340068" igxRipple="#FBB13C">Export Grid</button>
                <button igxButton="flat" (click)="exportFilteredGrid()" igxButtonColor="#FBB13C" igxButtonBackground="#340068" igxRipple="#FBB13C">Export Cheese Products Report</button>
                <input class="igx-form-group__input--search" type="text" placeholder="Search Grid" (input)="onSearchChange($event.target.value)" (keydown)="onSearch($event)" />
            </div>
            <igx-grid #grid3 [data]="remote | async" [paging]="true" [perPage]="10" (onPagingDone)="process($event)" (onSortingDone)="process($event)"
                (onBeforeProcess)="onProcess($event)" [primaryKey]="'ProductID'" [rowSelectable]="true">
                <igx-column [sortable]="true" [field]="'ProductID'" ></igx-column>
                <igx-column [editable]="true" [field]="'ProductName'" ></igx-column>
                <igx-column [sortable]="true" [field]="'UnitsInStock'" [header]="'Units in Stock'"></igx-column>
                <igx-column [field]="'Discontinued'" [sortable]="true" [hidden]="true">
                    <ng-template igxHeader let-column="column">
                        <p style="color: crimson"></p>
                    </ng-template>
                    <ng-template igxCell let-item="item" let-ri="rowIndex" let-column="column">
                        <igx-checkbox [checked]="item" (change)="grid3.updateCell(ri, column?.field, $event.target.checked)"></igx-checkbox>
                    </ng-template>
                </igx-column>
            </igx-grid>
            <button (click)="updateRow11()">Update Row With primaryKey</button>
        </article>

    </section>

    <igx-toast #toast></igx-toast>
    <div style="width: calc(100% - 242px); display: flex; position: fixed; bottom: 0; justify-content: center">
        <igx-snackbar #snax [autoHide]="true" displayTime="2500" style="width: 50%;" message="Row was deleted" actionText="Undo"
            (onAction)="restore()">
        </igx-snackbar>
    </div>

</div>
